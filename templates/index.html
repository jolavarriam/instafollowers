<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Instagram follower counter</title>

    <link rel="stylesheet" href="http://github.hubspot.com/odometer/themes/odometer-theme-default.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="http://github.hubspot.com/odometer/odometer.js"></script>
    
    <!-- Extra styles for this example -->
    <style>
    .odometer {
        font-size: 30px;
        font-weight: 250;
    }

    .name {
        color: #262626;
        color: rgba(var(--i1d,38,38,38),1);
        font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
        font-size: 18px;
        font-weight: 350;
        line-height: 18px;
    }
    </style>

</head>

<body>
    <div style="text-align: center; width: 100%; height: auto;">
        <div style="border-radius: 50%; margin-left: 20px; margin-top: 10px; width: 100px; height: 100px; border: 2px solid red;">
            <img style="border-radius: 50%; width: 96px; height: 96px; border: 2px solid white;" src="{{ picture }}">
        </div>
        <div style="margin-left: 0px; margin-top: 5px; text-align: center; width: 140px;">
            <div class="name" style="margin-top: 5px;">{{ username }}</div>
            <div id="odometer" class="odometer" style="margin-top: 5px;">0</div>
        </div>
    </div>
    
    <script>
        $(document).ready(function(){
            setTimeout(function(){
                odometer.innerHTML = {{ followers }};
            }, 10);
            setInterval(function(){
                $.get(
                    "/api/followers/{{ username }}",
                    {},
                    function(data) {
                        odometer.innerHTML = data;
                    }
                );
            }, 10000);
        });
    </script>

</body>

</html>